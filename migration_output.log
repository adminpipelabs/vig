2026-02-05 10:37:40,172 [INFO] ================================================================================
2026-02-05 10:37:40,173 [INFO] SQLITE ‚Üí POSTGRESQL MIGRATION
2026-02-05 10:37:40,173 [INFO] ================================================================================
2026-02-05 10:37:40,174 [INFO] 
2026-02-05 10:37:40,174 [INFO] üìÇ Reading from SQLite: vig.db
2026-02-05 10:37:40,179 [INFO] SQLite counts: {'bets': 23, 'windows': 33160, 'circuit_breaker_log': 0}
2026-02-05 10:37:40,179 [INFO] 
2026-02-05 10:37:40,180 [INFO] Connecting to PostgreSQL (attempt 1/3)...
2026-02-05 10:37:43,275 [INFO] ‚úì PostgreSQL connected
2026-02-05 10:37:43,276 [INFO] üî® Creating schema in PostgreSQL...
2026-02-05 10:37:44,502 [INFO] ‚úì Schema created
2026-02-05 10:37:44,502 [INFO] 
2026-02-05 10:37:44,502 [INFO] üì• Migrating bets...
2026-02-05 10:42:45,422 [WARNING]   ‚ö†Ô∏è  Check for existing bets timed out, assuming empty
2026-02-05 10:42:45,423 [INFO]   bets: Migrating 23 new rows (of 23 total) in 1 batches
2026-02-05 10:42:45,731 [WARNING]   Batch 1 failed (attempt 1/3): current transaction is aborted, commands ignored until end of transaction block

2026-02-05 10:42:45,731 [INFO]   Retrying batch 1...
2026-02-05 10:42:45,734 [INFO] Connecting to PostgreSQL (attempt 1/3)...
2026-02-05 10:42:48,693 [INFO] ‚úì PostgreSQL connected
2026-02-05 10:43:50,005 [WARNING]   Batch 1 failed (attempt 2/3): canceling statement due to statement timeout

2026-02-05 10:43:50,006 [INFO]   Retrying batch 1...
2026-02-05 10:43:50,007 [INFO] Connecting to PostgreSQL (attempt 1/3)...
2026-02-05 10:43:52,924 [INFO] ‚úì PostgreSQL connected
2026-02-05 10:44:54,236 [ERROR]   ‚ùå Batch 1 failed after 3 attempts: canceling statement due to statement timeout

2026-02-05 10:44:54,238 [ERROR]   Migration stopped. 0 rows migrated so far.
2026-02-05 10:44:54,239 [ERROR] 
‚ùå Migration failed: canceling statement due to statement timeout

2026-02-05 10:44:54,242 [ERROR] Traceback (most recent call last):
  File "/Users/mikaelo/vig/migrate_to_postgres.py", line 433, in <module>
  File "/Users/mikaelo/vig/migrate_to_postgres.py", line 314, in main
    b['price'],
  File "/Users/mikaelo/vig/migrate_to_postgres.py", line 148, in migrate_table
    end_idx = min(start_idx + batch_size, total_rows)
psycopg2.errors.QueryCanceled: canceling statement due to statement timeout


